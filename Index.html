<!DOCTYPE html>
<html>
<head>
  <title>Direct Democracy</title>
  <style>
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    .header h1 {
      color: #1a365d;
      font-size: 2.5em;
    }
    
    /* Navigation */
    .nav-menu {
      display: flex;
      list-style: none;
      padding: 0;
      justify-content: space-around;
      margin-bottom: 30px;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .nav-menu li {
      padding: 10px;
      cursor: pointer;
    }
    .nav-menu li.active {
      font-weight: bold;
      border-bottom: 3px solid #1a365d;
    }
    
    /* Page Styles */
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
    
    /* Homepage */
    .stats {
      display: flex;
      justify-content: space-around;
      margin: 30px 0;
      text-align: center;
    }
    .stat-box {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      width: 28%;
    }
    .stat-number {
      font-size: 2em;
      font-weight: bold;
      color: #2d3748;
    }
    .stat-label {
      color: #718096;
    }
    
    /* Legislation Page */
    .bill {
      background: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .federal { border-left: 5px solid #e53e3e; }
    .state { border-left: 5px solid #38a169; }
    .county { border-left: 5px solid #3182ce; }
    .municipal { border-left: 5px solid #805ad5; }
    .bill h2 { margin-top: 0; color: #2d3748; }
    .bill p { color: #4a5568; }
    .deadline { font-weight: bold; color: #d69e2e; }
    .vote-buttons { margin-top: 15px; }
    button {
      padding: 8px 15px;
      margin-right: 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .yes-btn { background-color: #38a169; color: white; }
    .no-btn { background-color: #e53e3e; color: white; }
    .voted { opacity: 0.6; }
    .participation { font-style: italic; color: #718096; }
    .result { display: none; margin-top: 10px; font-weight: bold; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>Direct Democracy</h1>
    </div>
    
    <!-- Navigation Menu (Matches Whiteboard) -->
    <ul class="nav-menu">
      <li class="active" onclick="showPage('home')">Home</li>
      <li onclick="showPage('legislation')">Legislation</li>
      <li onclick="showPage('seats')">Seats</li>
      <li onclick="showPage('representative')">My Representative</li>
      <li onclick="showPage('votes')">My Votes</li>
      <li onclick="showPage('profile')">My Profile</li>
      <li onclick="showPage('support')">Support</li>
    </ul>
    
    <!-- Home Page -->
    <div id="home" class="page active">
      <p>Your voice matters. Vote on the issues that affect you.</p>
      
      <div class="stats">
        <div class="stat-box">
          <div class="stat-number">5</div>
          <div class="stat-label">Active Bills</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">0</div>
          <div class="stat-label">Your Votes</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">0%</div>
          <div class="stat-label">Participation</div>
        </div>
      </div>
    </div>
    
    <!-- Legislation Page (Existing Voting Interface) -->
    <div id="legislation" class="page">
      <div class="bill federal" id="bill1">
        <h2>Climate Action and Green Jobs Act</h2>
        <p>Establishes a national green jobs program, invests in renewable energy infrastructure, and sets ambitious carbon reduction targets.</p>
        <p class="deadline">Vote by December 1, 2024</p>
        <p class="participation">53% participation so far</p>
        <div class="vote-buttons">
          <button class="yes-btn" onclick="voteYes(1)">Yes</button>
          <button class="no-btn" onclick="voteNo(1)">No</button>
        </div>
        <div class="result" id="result1">Current votes: <span id="count1">Loading...</span></div>
      </div>

      <div class="bill state" id="bill2">
        <h2>Digital Privacy Protection Act</h2>
        <p>Strengthens data protection laws, requires explicit consent for data collection, and establishes penalties for companies that misuse personal information.</p>
        <p class="deadline">Vote by November 20, 2024</p>
        <p class="participation">61% participation so far</p>
        <div class="vote-buttons">
          <button class="yes-btn" onclick="voteYes(2)">Yes</button>
          <button class="no-btn" onclick="voteNo(2)">No</button>
        </div>
        <div class="result" id="result2">Current votes: <span id="count2">Loading...</span></div>
      </div>
    </div>
    
    <!-- Placeholder Pages -->
    <div id="seats" class="page">
      <h2>Your Districts</h2>
      <p>Content coming soon</p>
    </div>
    <div id="representative" class="page">
      <h2>Your Representative</h2>
      <p>Content coming soon</p>
    </div>
    <div id="votes" class="page">
      <h2>Your Voting History</h2>
      <p>Content coming soon</p>
    </div>
    <div id="profile" class="page">
      <h2>Your Profile</h2>
      <p>Content coming soon</p>
    </div>
    <div id="support" class="page">
      <h2>Support</h2>
      <p>Content coming soon</p>
    </div>
  </div>

  <script>
    // Navigation
    function showPage(pageId) {
      // Update active nav item
      document.querySelectorAll('.nav-menu li').forEach(item => {
        item.classList.remove('active');
      });
      document.querySelector(`.nav-menu li[onclick="showPage('${pageId}')"]`).classList.add('active');
      
      // Show selected page
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      document.getElementById(pageId).classList.add('active');
      
      // Update stats if going to home page
      if (pageId === 'home') {
        updateStats();
      }
    }
    
    // Voting Functions
    function voteYes(billId) {
      localStorage.setItem(`vote_${billId}`, 'yes');
      document.getElementById(`bill${billId}`).classList.add('voted');
      updateResults();
      updateStats();
    }
    function voteNo(billId) {
      localStorage.setItem(`vote_${billId}`, 'no');
      document.getElementById(`bill${billId}`).classList.add('voted');
      updateResults();
      updateStats();
    }
    
    function updateResults() {
      const bills = [
        { id: 1, deadline: new Date('2024-12-01') },
        { id: 2, deadline: new Date('2024-11-20') }
      ];
      bills.forEach(bill => {
        if (new Date() >= bill.deadline) {
          document.getElementById(`result${bill.id}`).style.display = 'block';
          document.getElementById(`count${bill.id}`).textContent = 
            localStorage.getItem(`vote_${bill.id}`) ? '62% YES' : 'Voting closed';
        }
        if (localStorage.getItem(`vote_${bill.id}`)) {
          document.getElementById(`bill${bill.id}`).classList.add('voted');
        }
      });
    }
    
    function updateStats() {
      const voteCount = Object.keys(localStorage).filter(key => key.startsWith('vote_')).length;
      document.querySelectorAll('.stat-number')[0].textContent = '2'; // Active bills
      document.querySelectorAll('.stat-number')[1].textContent = voteCount;
      document.querySelectorAll('.stat-number')[2].textContent = 
        voteCount > 0 ? '50%' : '0%'; // Simple participation calculation
    }
    
    // Initialize
    window.onload = function() {
      updateResults();
      updateStats();
    };
  </script>
</body>
</html>
